---
import { Icon } from 'astro-icon/components';

const WHATSAPP_URL = 'https://wa.me/551936214061?text=Olá! Gostaria de saber mais sobre ';

const services = [
  {
    icon: 'lucide:shield-check',
    title: 'Seguros Diversos',
    desc: 'Proteção completa para auto, residência, vida e muito mais. Trabalhamos com as melhores seguradoras do mercado para oferecer a cobertura ideal.',
    cta: 'seguros.',
  },
  {
    icon: 'lucide:car',
    title: 'Proteção Veicular',
    desc: 'Alternativa acessível ao seguro tradicional. Sem análise de perfil, aceita veículos de qualquer ano e modelo, incluindo motoristas de aplicativo.',
    cta: 'proteção veicular.',
  },
  {
    icon: 'lucide:radar',
    title: 'Rastreamento Veicular',
    desc: 'Monitoramento 24h com localização em tempo real pelo celular. Central de recuperação imediata em caso de furto ou roubo.',
    cta: 'rastreamento veicular.',
  },
];
---

<section id="servicos" class="py-28" aria-labelledby="servicos-heading">
  <div class="container mx-auto px-4">
    <div class="text-center mb-14" data-animate>
      <h2 id="servicos-heading" class="font-display text-3xl md:text-4xl font-extrabold text-primary mb-4 tracking-tight">Nossos Serviços</h2>
      <p class="text-muted-foreground text-lg max-w-xl mx-auto">Soluções sob medida para proteger o que mais importa para você e sua família.</p>
    </div>
    <div class="grid md:grid-cols-3 gap-8" role="list">
      {services.map((s, i) => (
        <article
          class="group p-8 rounded-2xl border border-border/50 bg-background shadow-sm hover:shadow-xl hover:-translate-y-1.5 hover:border-secondary/30 transition-all duration-300"
          data-animate
          style={`transition-delay: ${i * 150}ms`}
          role="listitem"
        >
          <div class="w-14 h-14 rounded-xl bg-primary/5 group-hover:bg-linear-to-br group-hover:from-secondary/15 group-hover:to-secondary/5 flex items-center justify-center mb-6 transition-all duration-300" aria-hidden="true">
            <Icon name={s.icon} class="h-7 w-7 text-primary group-hover:text-secondary transition-colors duration-300" />
          </div>
          <h3 class="font-display text-xl font-bold text-primary mb-3">{s.title}</h3>
          <p class="text-muted-foreground text-sm mb-6 leading-relaxed">{s.desc}</p>
          <a
            href={WHATSAPP_URL + s.cta}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center w-full h-10 px-4 py-2 rounded-lg text-sm font-semibold border border-secondary/30 text-secondary hover:bg-secondary hover:text-secondary-foreground hover:shadow-md transition-all duration-200"
            aria-label={`Solicitar cotação de ${s.title} pelo WhatsApp`}
          >
            Solicitar Cotação
          </a>
        </article>
      ))}
    </div>
  </div>
</section>
